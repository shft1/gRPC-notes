syntax = "proto3";

package api.notes.v1;

import "google/protobuf/empty.proto";

import "google/type/datetime.proto";

option go_package = "github.com/shft1/grpc-notes/pkg/api/notes/v1";

// NoteIDRequest - сообщение ID заметки
message NoteIDRequest {
  string id = 1;
}

// CreateNoteRequest - сообщение заметки для создания
message CreateNoteRequest {
  string title = 1;
  string description = 2;
}

// Note - сообщение заметки
message Note {
  string id = 1;
  string title = 2;
  string description = 3;
  google.type.DateTime created_at = 4;
}

// NoteList - сообщение списка заметок
message NoteList {
  repeated Note notes = 1;
}

// NoteAPI - сервис заметок
service NoteAPI {
  // CreateNode - создание заметки
  rpc CreateNode(CreateNoteRequest) returns(Note) {};

  // GetNodeByID - получение заметки по ID
  rpc GetNodeByID(NoteIDRequest) returns(Note) {};

  // GetNodes - получение всех заметок
  rpc GetNodes(google.protobuf.Empty) returns(NoteList) {};

  // DeleteNodeByID - удалить заметку
  rpc DeleteNodeByID(NoteIDRequest) returns(Note) {};
}