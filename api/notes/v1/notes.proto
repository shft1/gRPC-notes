syntax = "proto3";

package api.notes.v1;

option go_package = "github.com/shft1/grpc-notes/pkg/api/notes/v1";

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

import "api/notes/v1/messages.proto";

// NoteAPI - сервис заметок
service NoteAPI {
  // Create - создание заметки
  rpc Create(NoteCreateRequest) returns(Note) {};

  // GetByID - получение заметки по ID
  rpc GetByID(NoteIDRequest) returns(Note) {};

  // GetMulti - получение всех заметок
  rpc GetMulti(google.protobuf.Empty) returns(NoteList) {};

  // DeleteByID - удалить заметку
  rpc DeleteByID(NoteIDRequest) returns(Note) {};

  // SubscribeToEvents - подписка на событие "создание заметки"
  rpc SubscribeToEvents(Empty) returns(stream EventResponse) {};
}